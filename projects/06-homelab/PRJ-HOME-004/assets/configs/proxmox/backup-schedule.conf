# Proxmox VE Backup Schedule Configuration
# Configured via GUI: Datacenter > Backup
#
# This is a representation of the backup job configuration

# Daily VM/CT Backup Job
# Target: tank/backups (TrueNAS NFS mount)
# Schedule: Daily at 02:00
# Retention: 7 daily backups
# Mode: Snapshot (vzdump mode)
# Compression: zstd
# Notification: email on-failure

[backup-job:daily-all-vms]
enabled = 1
schedule = 02:00
mode = snapshot
compress = zstd
storage = truenas-nfs
maxfiles = 7
all = 1
exclude-path = /mnt/*,/dev/*,/proc/*,/sys/*
notes = Daily automated backup of all VMs and containers
notification-mode = notification-target
notification-target = email-admin

# Weekly Full Backup to External Storage
# Target: external-usb (USB HDD)
# Schedule: Sunday at 03:00
# Retention: 4 weekly backups
# Mode: Stop (for consistency)

[backup-job:weekly-critical]
enabled = 1
schedule = sun 03:00
mode = stop
compress = zstd
storage = external-usb
maxfiles = 4
vmid = 100,101,102,103,104
notes = Weekly full backup of critical services
notification-mode = notification-target
notification-target = email-admin

# Backup Verification Job
# Runs after daily backup completes
# Tests restore integrity

[verify-job:daily-verification]
enabled = 1
schedule = 04:00
storage = truenas-nfs
notes = Automated daily backup verification
