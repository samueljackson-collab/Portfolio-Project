{
  "dashboard": {
    "title": "Edge AI Inference Dashboard",
    "tags": ["edge", "ai", "inference"],
    "timezone": "browser",
    "schemaVersion": 16,
    "version": 1,
    "refresh": "30s",
    "panels": [
      {
        "id": 1,
        "title": "Online Edge Devices",
        "type": "stat",
        "targets": [{"expr": "count(edge_device_online == 1)", "legendFormat": "Online"}],
        "gridPos": {"h": 4, "w": 4, "x": 0, "y": 0}
      },
      {
        "id": 2,
        "title": "Total Inferences/sec",
        "type": "stat",
        "targets": [{"expr": "sum(rate(edge_inference_total[1m]))", "legendFormat": "RPS"}],
        "gridPos": {"h": 4, "w": 4, "x": 4, "y": 0}
      },
      {
        "id": 3,
        "title": "Inference Latency by Device",
        "type": "graph",
        "targets": [{"expr": "histogram_quantile(0.95, rate(edge_inference_duration_seconds_bucket[5m]))", "legendFormat": "{{ device_id }}"}],
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
        "yaxes": [{"format": "s", "label": "Latency"}, {"format": "short"}]
      },
      {
        "id": 4,
        "title": "Edge Device Resource Usage",
        "type": "graph",
        "targets": [
          {"expr": "edge_device_cpu_usage_percent", "legendFormat": "{{ device_id }} - CPU"},
          {"expr": "(1 - edge_device_memory_available_bytes / edge_device_memory_total_bytes) * 100", "legendFormat": "{{ device_id }} - Memory"}
        ],
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
        "yaxes": [{"format": "percent", "max": 100, "min": 0}, {"format": "short"}]
      }
    ]
  }
}
