# AlertManager Configuration Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to git!

# SMTP Configuration (for email alerts)
ALERTMANAGER_SMTP_PASSWORD=your-gmail-app-password-here

# Slack Webhook URL (for Slack notifications)
# Get this from: https://api.slack.com/messaging/webhooks
ALERTMANAGER_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/HERE

# PagerDuty Service Key (for critical alerts)
# Get this from: PagerDuty > Service > Integrations > Events API v2
ALERTMANAGER_PAGERDUTY_SERVICE_KEY=your-pagerduty-integration-key-here

# Deployment Instructions:
# ======================
#
# Option 1: Using envsubst (recommended for Docker)
# --------------------------------------------------
# export $(cat .env | xargs)
# envsubst < alertmanager.yml > alertmanager-production.yml
# docker run -v ./alertmanager-production.yml:/etc/alertmanager/config.yml prom/alertmanager
#
# Option 2: Using Docker Compose with environment variables
# ----------------------------------------------------------
# Add to docker-compose.yml:
#   alertmanager:
#     environment:
#       - ALERTMANAGER_SMTP_PASSWORD=${ALERTMANAGER_SMTP_PASSWORD}
#       - ALERTMANAGER_SLACK_WEBHOOK_URL=${ALERTMANAGER_SLACK_WEBHOOK_URL}
#       - ALERTMANAGER_PAGERDUTY_SERVICE_KEY=${ALERTMANAGER_PAGERDUTY_SERVICE_KEY}
#     command:
#       - '--config.file=/etc/alertmanager/alertmanager.yml'
#       - '--config.expand-env=true'
#
# Option 3: Using Kubernetes Secrets
# -----------------------------------
# kubectl create secret generic alertmanager-secrets \
#   --from-literal=smtp-password="${ALERTMANAGER_SMTP_PASSWORD}" \
#   --from-literal=slack-webhook="${ALERTMANAGER_SLACK_WEBHOOK_URL}" \
#   --from-literal=pagerduty-key="${ALERTMANAGER_PAGERDUTY_SERVICE_KEY}"
#
# Then mount and reference in alertmanager config.

# Security Best Practices:
# ========================
# 1. Use app-specific passwords for Gmail (not your main password)
# 2. Rotate webhook URLs and API keys every 90 days
# 3. Restrict Slack webhook to specific channels
# 4. Use least-privilege PagerDuty integration keys
# 5. Store production .env file in a secure secrets manager (Vault, AWS Secrets Manager, etc.)
