###############################################################################
# Monitoring Stack Environment Variables
# Copy this file to .env and customize for your environment
###############################################################################
#
# SECURITY WARNING:
#   - Never commit .env file to git (contains secrets)
#   - Add .env to .gitignore
#   - Use strong, unique passwords
#   - Rotate credentials regularly
#
# USAGE:
#   cp .env.example .env
#   vim .env  # Edit with your values
#   docker-compose up -d
#
###############################################################################

###############################################################################
# GRAFANA CONFIGURATION
###############################################################################

# Grafana Admin Credentials
# CRITICAL: Change these from defaults!
# Default username: admin / Default password: admin
# Use strong passwords (20+ characters, mixed case, numbers, symbols)
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=ChangeThisSecurePassword123!

# Grafana Server Configuration
# root_url: External URL for Grafana (important for links in alerts)
# Examples:
#   http://localhost:3000                    # Local development
#   https://grafana.yourdomain.com           # Production with reverse proxy
#   http://192.168.1.100:3000                # Internal network access
GF_SERVER_ROOT_URL=http://localhost:3000

# Grafana Plugins
# Comma-separated list of plugins to auto-install
# Find plugins at: https://grafana.com/grafana/plugins/
# Examples:
#   - grafana-piechart-panel: Pie chart visualizations
#   - grafana-clock-panel: Clock widget
#   - grafana-worldmap-panel: World map visualizations
#   - grafana-polystat-panel: Status indicators
GF_INSTALL_PLUGINS=grafana-piechart-panel,grafana-clock-panel

# Grafana Authentication (Optional)
# Uncomment to enable OAuth, LDAP, etc.
# GF_AUTH_GOOGLE_ENABLED=true
# GF_AUTH_GOOGLE_CLIENT_ID=your-client-id
# GF_AUTH_GOOGLE_CLIENT_SECRET=your-client-secret
# GF_AUTH_GOOGLE_ALLOWED_DOMAINS=yourdomain.com

###############################################################################
# PROMETHEUS CONFIGURATION
###############################################################################

# Prometheus Data Retention
# How long to keep metrics data
# Format: 15d (days), 2w (weeks), 1y (years)
# Longer retention = more disk space needed
# Estimate: ~1-2GB per day for typical homelab
# Examples:
#   7d   - One week (7GB)
#   15d  - Two weeks (15GB) - Default
#   30d  - One month (30GB)
#   90d  - Three months (90GB)
PROMETHEUS_RETENTION=15d

# Prometheus Storage Path
# Where to store time-series data
# Should be on fast storage (SSD preferred)
# Mounted as Docker volume in docker-compose.yml
PROMETHEUS_STORAGE_PATH=/prometheus

# Prometheus External URL (Optional)
# Used for generating links in alerts
# PROMETHEUS_EXTERNAL_URL=http://prometheus.yourdomain.com

###############################################################################
# ALERTMANAGER CONFIGURATION
###############################################################################

# SMTP Configuration for Email Alerts
# Required for email notifications

# SMTP Server
# Examples:
#   smtp.gmail.com:587           # Gmail (requires app password)
#   smtp.office365.com:587       # Office 365
#   smtp.mailgun.org:587         # Mailgun
#   localhost:25                 # Local mail server
ALERTMANAGER_SMTP_HOST=smtp.gmail.com:587

# SMTP From Address
# Email address alerts will appear to come from
# Example: alerts@yourdomain.com
ALERTMANAGER_SMTP_FROM=monitoring@yourdomain.com

# SMTP To Address
# Default recipient for alerts
# Can be overridden per receiver in alertmanager.yml
# Examples:
#   admin@yourdomain.com
#   ops-team@yourdomain.com
#   monitoring-team@yourdomain.com
ALERTMANAGER_SMTP_TO=admin@yourdomain.com

# SMTP Authentication
# Username: Usually your email address
# Password: For Gmail, use App Password (not account password)
#   Gmail App Password: https://myaccount.google.com/apppasswords
ALERTMANAGER_SMTP_USERNAME=your-email@gmail.com
ALERTMANAGER_SMTP_PASSWORD=your-app-specific-password

# Slack Integration (Optional)
# Get webhook URL from Slack:
#   1. Go to: https://api.slack.com/apps
#   2. Create app → Incoming Webhooks → Add New Webhook
#   3. Copy webhook URL
# ALERTMANAGER_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/HERE

# PagerDuty Integration (Optional)
# Get integration key from PagerDuty:
#   1. Go to Services → Your Service → Integrations
#   2. Add Integration → Prometheus
#   3. Copy Integration Key
# PAGERDUTY_SERVICE_KEY=your-integration-key-here

###############################################################################
# SYSTEM CONFIGURATION
###############################################################################

# Hostname
# Used for identifying this monitoring instance
# Shows up in alert labels and external_labels
# Examples:
#   proxmox-monitoring-01
#   homelab-monitoring
#   prod-monitoring-01
HOSTNAME=proxmox-monitoring-01

# Environment Identifier
# Used in Prometheus external_labels and Promtail
# Examples: homelab, dev, staging, production
# Useful when aggregating metrics from multiple environments
ENVIRONMENT=homelab

# Timezone
# Used by containers for log timestamps and scheduling
# Find your timezone: timedatectl list-timezones
# Examples:
#   America/New_York
#   America/Chicago
#   America/Los_Angeles
#   Europe/London
#   Europe/Paris
#   Asia/Tokyo
TZ=America/Los_Angeles

###############################################################################
# OPTIONAL: EXTERNAL SERVICES
###############################################################################

# Pushgateway (Optional)
# For pushing metrics from batch jobs/scripts
# PUSHGATEWAY_URL=http://pushgateway:9091

# Thanos/Cortex/Mimir (Optional)
# For long-term storage and multi-cluster metrics
# THANOS_REMOTE_WRITE_URL=http://thanos:19291/api/v1/receive
# CORTEX_REMOTE_WRITE_URL=http://cortex:9009/api/v1/push

# Object Storage (Optional)
# For Thanos or long-term log storage
# S3_BUCKET=monitoring-long-term
# S3_ENDPOINT=s3.amazonaws.com
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key

###############################################################################
# DEVELOPMENT/DEBUGGING
###############################################################################

# Enable debug logging (not recommended for production)
# GF_LOG_LEVEL=debug
# PROMETHEUS_LOG_LEVEL=debug
# LOKI_LOG_LEVEL=debug

# Disable authentication (INSECURE - dev only)
# GF_AUTH_ANONYMOUS_ENABLED=true
# GF_AUTH_ANONYMOUS_ORG_ROLE=Admin

###############################################################################
# EXAMPLE CONFIGURATIONS
###############################################################################

# Minimal Gmail Setup:
# ALERTMANAGER_SMTP_HOST=smtp.gmail.com:587
# ALERTMANAGER_SMTP_FROM=your-email@gmail.com
# ALERTMANAGER_SMTP_TO=your-email@gmail.com
# ALERTMANAGER_SMTP_USERNAME=your-email@gmail.com
# ALERTMANAGER_SMTP_PASSWORD=your-gmail-app-password

# Production Setup with Slack:
# GF_SECURITY_ADMIN_PASSWORD=ComplexPassword123!@#
# GF_SERVER_ROOT_URL=https://grafana.company.com
# ALERTMANAGER_SMTP_HOST=smtp.company.com:587
# ALERTMANAGER_SMTP_FROM=alerts@company.com
# ALERTMANAGER_SMTP_TO=ops-team@company.com
# ALERTMANAGER_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ
# ENVIRONMENT=production

###############################################################################
# SECURITY BEST PRACTICES
###############################################################################
#
# 1. Passwords:
#    - Minimum 20 characters
#    - Mix of uppercase, lowercase, numbers, symbols
#    - Never reuse passwords
#    - Store in password manager (1Password, LastPass, Bitwarden)
#
# 2. Gmail App Passwords:
#    - Enable 2FA on Gmail account first
#    - Generate app password: https://myaccount.google.com/apppasswords
#    - Use app password, not account password
#    - Revoke if compromised
#
# 3. File Permissions:
#    - chmod 600 .env (readable only by owner)
#    - Never commit .env to git
#    - Add .env to .gitignore
#
# 4. Rotation:
#    - Rotate Grafana admin password quarterly
#    - Rotate SMTP passwords annually
#    - Update immediately if suspected compromise
#
# 5. Network Security:
#    - Use reverse proxy (nginx/traefik) with TLS for external access
#    - Don't expose ports directly to internet
#    - Use VPN for remote access
#    - Enable firewall rules
#
###############################################################################
