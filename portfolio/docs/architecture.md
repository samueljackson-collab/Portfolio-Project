# Architecture Overview

```
+-------------------+        +------------------------+
|   React Frontend  | <----> | FastAPI Backend (JWT)  |
+-------------------+        +------------------------+
          |                               |
          v                               v
+-------------------+        +------------------------+
|    Nginx Proxy    |        | PostgreSQL (async ORM) |
+-------------------+        +------------------------+
          |                               |
          v                               v
+-------------------+        +------------------------+
| Docker Compose    |        | Terraform (AWS VPC)    |
+-------------------+        +------------------------+
```

## Components

- **Frontend** – Served by Nginx with static build artifacts generated by Vite. Communicates with the backend through REST.
- **Backend API** – FastAPI with async SQLAlchemy for persistence and JWT auth for session management. Provides `/api/content` CRUD.
- **Database** – PostgreSQL accessible over internal network with migrations handled by Alembic.
- **Infrastructure** – Terraform module provisions AWS VPC (public/private subnets, internet gateway). Helm chart packages backend/frontend deployments for Kubernetes.
- **Observability** – Prometheus scrapes services, Grafana visualizes metrics, and Loki aggregates logs.

## Data Flow

1. Users interact with the React frontend.
2. Frontend sends authenticated requests (Bearer token) to FastAPI.
3. FastAPI persists entities in PostgreSQL via async SQLAlchemy.
4. Compose wiring exposes metrics endpoints to Prometheus. Dashboards display service health and API latency.

## Deployment Strategy

- CI builds Docker images, pushes to GHCR, and triggers Helm chart dry-run for staging.
- Production releases are gated on manual approval after k6 smoke tests.

